%\let\textcircled=\pgftextcircled
\chapter{Programming language and libraries choices}
\label{chap:programming_language_libraries_choices}

\section{Python}
For this analysis the Python programming language \cite{python-website} has been choosen. \\
Python is increasingly being used by the scientific community for its large collections of packages. It allows to link normal python code to C / C++ extension when performance optimization is critically important. \\
The used python implementation is the standard CPython. \\
In addition, Blender only offer a Python API.

\section{Python scientific stack}
\begin{itemize}
	\item \textbf{pandas} is a package for data analysis.
	\item \textbf{scipy} offers a lot of mathematical routines.
	\item \textbf{numpy} is a data structure library with vectorized operations. %talk about vectorization
	\item \textbf{matplotlib} is the most used python plotting library.
\end{itemize}

\section{Quaternion libraries}

Project initially started with numpy-quaternion \cite{numpy-quaternion} but then moved to pyquaternion \cite{pyquaternion} because of the following reason:
\begin{itemize}
\item \textbf{moble/quaternion} doesn't work on windows, as stated in the readme
\item \textbf{pyquaternion} has a better documentation
\item \textbf{pyquaternion} has more high-level methods
\end{itemize}

On the downside pyquaternion has performance disadvantages, as example the following code with \textbf{numpy-quaternion}
\begin{lstlisting}
quaternions = np.array(
[np.exp(numpy_quaternion.quaternion(*np.asarray(delta_theta)) / 2) for delta_theta in delta_thetas]
)
\end{lstlisting}
runs in 0.665 milliseconds \\
while the following code with \textbf{pyquaternion} 
\begin{lstlisting}
quaternions = np.array(
[Quaternion.exp(Quaternion(vector=delta_theta)/2) for delta_theta in delta_thetas]
)
\end{lstlisting}
runs in 24.6 milliseconds \\
both with an array of 100 records