%\let\textcircled=\pgftextcircled
\chapter{Programming language and libraries choices}
\label{chap:programming_language_libraries_choices}

\section{Python}
For this project the Python programming language \cite{python-website} was choosen. \\
Python is increasingly being used by the scientific community for its large collections of packages. It allows to link normal python code to C / C++ extension when performance optimization is critically important. \\
In addition, Blender only offer a Python API.
The used python implementation is the standard CPython. \\

\section{Python scientific stack}
\begin{itemize}
	\item \textbf{pandas} is a package for data analysis.
	\item \textbf{scipy} offers many mathematical routines.
	\item \textbf{numpy} is a data structure library with vectorized operations. %talk about vectorization
	\item \textbf{matplotlib} is the most used python plotting library.
\end{itemize}

\section{Quaternion libraries}

Project initially started with numpy-quaternion \cite{numpy-quaternion} but then moved to pyquaternion \cite{pyquaternion} because of the following reason:
\begin{itemize}
\item \textbf{moble/quaternion} doesn't work on Windows, as stated in the readme
\item \textbf{pyquaternion} has a better documentation
\item \textbf{pyquaternion} has more high-level methods
\end{itemize}

On the downside pyquaternion has performance disadvantages, as example the following code with \textbf{numpy-quaternion}
\begin{changemargin}{-1cm}{-1cm}
\begin{lstlisting}[language=Python,frame=single]
from numpy_quaternion import quaternion as Quaternion
quaternions = np.array(
[np.exp(Quaternion(*np.asarray(delta_theta)) / 2) for delta_theta in delta_thetas]
)
\end{lstlisting}
\end{changemargin}
runs in 0.665 milliseconds \\
while the following code with \textbf{pyquaternion} 
\begin{changemargin}{-1cm}{-1cm}
\begin{lstlisting}[language=Python,frame=single]
from pyquaternion import Quaternion
quaternions = np.array(
[Quaternion.exp(Quaternion(vector=delta_theta)/2) for delta_theta in delta_thetas]
)
\end{lstlisting}
\end{changemargin}
runs in 24.6 milliseconds \\
both with an array of 100 records